import{r as a,j as p}from"./chunk-JMJ3UQ3L-D8xUhVh8.js";import{u as l,a as w}from"./store-Cku1Yt54.js";const t="/assets/errorImg-DnU4xuem.webp",R=({placeholderSrc:r,src:s,className:I,alt:d,lazy:o=!0,useLightBox:g=!1,draggable:v=!0})=>{const[m,n]=a.useState(o?r||t:s||t),[f,u]=a.useState(!0),c=a.useRef(null),x=l(e=>e.setLightboxSrc),b=l(e=>e.setIsImageLoading),S=w(e=>e.setNavShow);a.useEffect(()=>{if(u(!0),!o){n(s||t);return}n(r||t);const e=new IntersectionObserver(([i])=>{i.isIntersecting&&(n(s||t),e.disconnect())},{threshold:0});return c.current&&e.observe(c.current),()=>e.disconnect()},[s,r,o]);const L=()=>{m===(s||t)&&u(!1)},h=()=>{n(r||t),u(!1)};return p.jsx("img",{ref:c,decoding:"async",alt:d||"img",className:(f?"skeleton ":"")+(g?" cursor-zoom-in ":"")+" w-full "+(I||""),onClick:g?e=>{const i=e.target;i.tagName==="IMG"&&(e.preventDefault(),x(i.src),b(!0),S(!1))}:void 0,src:m,onLoad:L,onError:h,loading:o?"lazy":"eager",style:{filter:f?"blur(10px)":"none",transition:"filter 0.5s linear"},draggable:v})};export{R as P};
