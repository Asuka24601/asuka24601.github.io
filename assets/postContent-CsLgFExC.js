import{r as l,a as b,j as e,w as y,b as C,c as I,O as T,i as M}from"./chunk-JMJ3UQ3L-D8xUhVh8.js";import{a as R,A,b as B,c as O}from"./aritcleContent-D-bh0h29.js";import{F as w,T as g,S as P}from"./floatMenu-Cmk2GIyK.js";import{m as v}from"./utils-7O0HEEsp.js";import{B as _}from"./bannerContent-DkO4eF4Y.js";import{T as D}from"./textJitter-CutdUL0c.js";import{C as E}from"./CRTOverlay-CMIxyTdG.js";import{P as S}from"./errorPage-Do_3sSDw.js";import"./progressiveImage-CytJf-gW.js";import"./store-Cku1Yt54.js";import"./tagsComponent-B__IYkf_.js";import"./index-JhMKWXTp.js";import"./SvgIcon-Bgc42I2s.js";import"./preload-helper-CQeFrDRW.js";import"./isSymbol-dWjoa6cD.js";function N({queryID:n,className:r,style:c}){const[o,u]=l.useState([]),[i,s]=l.useState(""),h=b();return l.useEffect(()=>{const t=setTimeout(()=>{const m=document.getElementById(n);if(!m)return;const d=m.querySelectorAll("h1, h2, h3, h4, h5, h6"),p=[];d.forEach(a=>{a.id&&p.push({id:a.id,text:a.textContent||"",level:parseInt(a.tagName.substring(1))})}),u(p);const x=new IntersectionObserver(a=>{a.forEach(j=>{j.isIntersecting&&s(j.target.id)})},{rootMargin:"0px 0px -80% 0px"});return d.forEach(a=>x.observe(a)),()=>x.disconnect()},100);return()=>clearTimeout(t)},[h.pathname,n]),o.length===0?e.jsx(w,{className:r,style:c,children:e.jsxs("li",{children:[e.jsx(g,{level:1}),e.jsx("span",{className:"text-base-content/25 after:content-['No_headings_found.']"})]})}):e.jsx(w,{className:r,style:c,children:o.map(t=>e.jsx("li",{children:e.jsxs("a",{href:`#${t.id}`,className:`flex items-center truncate py-1 pr-1 transition-colors duration-200 ${i===t.id?"text-secondary":"hover:text-accent text-base-content/50"}`,onClick:m=>{m.preventDefault();const d=document.getElementById(t.id);if(d){const a=d.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:a,behavior:"smooth"}),s(t.id)}},children:[e.jsx(g,{level:t.level}),t.text]})},t.id))})}function f(n){return typeof n=="object"&&n!==null&&"frontMatter"in n&&!!n.frontMatter}const W=y(function(){const r=b(),c=I(),o=l.useRef(null),u=l.useRef(null),i=c.find(t=>f(t.handle)||f(t.loaderData)),s=i?f(i.handle)?i.handle.frontMatter:f(i.loaderData)?i.loaderData.frontMatter:void 0:void 0,h=()=>{window.scrollTo({top:0,behavior:"instant"})};return l.useLayoutEffect(()=>(h(),()=>{}),[r.pathname]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:o,className:"contents",children:[e.jsx(_,{ImgUrl:s?.cover,blurred:!0,wrapperRef:o,children:e.jsx(R,{title:s?.title,author:s?.author,date:s?.date,description:s?.description,className:"relative top-1/2 -translate-y-1/2"})}),e.jsx("div",{className:"border-neutral border-t-4 border-double"}),e.jsx("div",{ref:u,className:"fixed left-0 z-50 h-1 w-full bg-transparent",style:{top:"var(--navbar-height)"},children:e.jsx("div",{className:"bg-success h-full w-full origin-left transition-transform duration-150 ease-out",style:{transform:"scaleX(var(--total-percent))"}})}),e.jsx("div",{className:"relative block h-full min-h-[inherit] w-full overflow-visible",children:e.jsxs("div",{className:"relative z-2 mx-auto max-w-5xl overflow-visible",children:[e.jsxs("article",{className:"border-terminal bg-base-200 animate__animated animate__fadeIn animate__slow relative will-change-transform",style:{transform:"translateY(calc(var(--scroll-percent) * -25vw))"},children:[e.jsx(E,{}),e.jsxs(D,{children:[e.jsx(A,{id:"article-"+v(r.pathname),children:e.jsx(T,{})}),e.jsx("div",{className:"border-neutral/20 w-full border-b-2 border-dashed"}),e.jsx(B,{tags:s?.tags,time:s?.date})]})]}),e.jsxs("div",{className:"border-terminal bg-base-200! absolute! top-0 right-0 hidden h-full translate-x-[calc(100%-4px)] overflow-visible! border-t-0! border-b-0! 2xl:block",children:[e.jsx(E,{}),e.jsx("div",{className:"sticky left-0 z-40 h-fit w-fit p-4",style:{top:"var(--navbar-height)"},children:e.jsx(N,{queryID:"article-"+v(r.pathname)})})]})]})})]}),e.jsx(P,{className:"2xl:hidden!",children:e.jsx(N,{queryID:"article-"+v(r.pathname),className:"w-full"})})]})}),Z=C(function({error:r}){const o=b().pathname.slice(7);return M(r)?e.jsx(O,{slug:o}):r instanceof Error?e.jsx(S,{error:r}):e.jsx("h1",{children:"Unknown Error"})});export{Z as ErrorBoundary,W as default};
