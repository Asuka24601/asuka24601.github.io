import{r as a,j as L}from"./chunk-JMJ3UQ3L-D8xUhVh8.js";import{a as I,b as E}from"./store-YdK40I-_.js";const i="/assets/errorImg-DnU4xuem.webp",u="/assets/placeholder-ctStl49w.webp",k=({placeholderSrc:s,src:t,className:d,alt:b,lazy:r=!0,useLightBox:m=!1,draggable:v=!0})=>{const[l,o]=a.useState(r?s||u:t||i),[f,c]=a.useState(!0),g=a.useRef(null),x=I(e=>e.setLightboxSrc),p=I(e=>e.setIsImageLoading),S=E(e=>e.setNavShow);a.useEffect(()=>{if(c(!0),!r){o(t||u);return}o(s||u);const e=new IntersectionObserver(([n])=>{n.isIntersecting&&(o(t||i),e.disconnect())},{threshold:0});return g.current&&e.observe(g.current),()=>e.disconnect()},[t,s,r]);const h=()=>{l===(t||i)&&c(!1)},w=()=>{o(s||i),c(!1)};return L.jsx("img",{ref:g,decoding:"async",alt:b||"img",className:(f?"skeleton ":"")+(m?" cursor-zoom-in ":"")+" w-full "+(d||""),onClick:m?e=>{const n=e.target;n.tagName==="IMG"&&(e.preventDefault(),x(n.src),p(!0),S(!1))}:void 0,src:l,onLoad:h,onError:w,loading:r?"lazy":"eager",style:{filter:f?"blur(10px)":"none",transition:"filter 0.5s linear"},draggable:v})};export{k as P};
