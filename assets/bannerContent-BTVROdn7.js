const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/headBanner-BmHWtGeJ.js","assets/chunk-JMJ3UQ3L-D8xUhVh8.js","assets/wallpaper_light-RrXt0cA5.js"])))=>i.map(i=>d[i]);
import{_ as P}from"./preload-helper-BXl3LOEh.js";import{r as n,j as t}from"./chunk-JMJ3UQ3L-D8xUhVh8.js";import{S as H}from"./SvgIcon-Bgc42I2s.js";import{C as S}from"./CRTOverlay-CMIxyTdG.js";import{i as z}from"./isSymbol-dWjoa6cD.js";function _(r){return r}function R(r,a){return r>a}function I(r,a,o){for(var f=-1,v=r.length;++f<v;){var c=r[f],l=a(c);if(l!=null&&(d===void 0?l===l&&!z(l):o(l,d)))var d=l,h=c}return h}function L(r){return r&&r.length?I(r,_,R):void 0}const O=n.lazy(()=>P(()=>import("./headBanner-BmHWtGeJ.js"),__vite__mapDeps([0,1,2])));function M({children:r,ImgUrl:a,wrapperRef:o,blurred:f=!1,hiddenImg:v=!1}){const[c,l]=n.useState(0),[d,h]=n.useState(!0),u=n.useRef(null),w=n.useRef(null),p=n.useRef(0),y=n.useRef(!0),E=()=>{h(!1),window.scrollTo({top:c/2-8,behavior:"smooth"})};return n.useEffect(()=>{if(!u.current)return;const e=new ResizeObserver(s=>{for(const i of s)l(i.contentRect.height),o.current?.style.setProperty("--banner-height",`${i.contentRect.height}`)});return e.observe(u.current),()=>e.disconnect()},[o]),n.useEffect(()=>{if(!w.current)return;const e=new IntersectionObserver(([s])=>{h(s.isIntersecting)},{threshold:0});return e.observe(w.current),()=>e.disconnect()},[]),n.useEffect(()=>{let e=!1,s=-1;const i=()=>{const b=window.scrollY,x=p.current,N=x>10?Math.min(b/(x-10),1):0;if(b>=x-10)return;if(o.current?.style.setProperty("--total-percent",`${N}`),!y.current&&b>c){s!==1&&(o.current?.style.setProperty("--scroll-percent","1"),s=1);return}const j=L([0,c]),g=j>0?Math.min(Math.max(b/j,0),1):0;g!==s&&(o.current?.style.setProperty("--scroll-percent",`${g}`),s=g)},m=()=>{e||(window.requestAnimationFrame(()=>{i(),e=!1}),e=!0)};return window.addEventListener("scroll",m,{passive:!0}),i(),()=>{window.removeEventListener("scroll",m)}},[c,o]),n.useLayoutEffect(()=>{o.current?.style.setProperty("--scroll-percent","0"),o.current?.style.setProperty("--total-percent","0")},[o]),n.useEffect(()=>{const e=()=>{const i=document.documentElement.scrollHeight,m=window.innerHeight;p.current=i-m};e();const s=new ResizeObserver(e);return s.observe(document.documentElement),window.addEventListener("resize",e),()=>{s.disconnect(),window.removeEventListener("resize",e)}},[]),n.useEffect(()=>{if(!u.current)return;const e=new IntersectionObserver(([s])=>{y.current=s.isIntersecting},{threshold:0});return e.observe(u.current),()=>e.disconnect()},[]),t.jsx(t.Fragment,{children:t.jsxs("div",{className:"bg-base-100 relative flex h-dvh w-full flex-col",children:[t.jsx(S,{className:"z-2!"}),t.jsxs("div",{className:"relative h-full w-full overflow-hidden",ref:u,children:[t.jsx("div",{ref:w,className:"pointer-events-none absolute top-0 left-0 h-20 w-full bg-transparent"}),t.jsx(n.Suspense,{fallback:t.jsx("div",{className:"bg-base-100 h-full w-full animate-pulse"}),children:v?t.jsx("div",{className:"h-full w-full bg-transparent"}):t.jsx("div",{className:"bg-base-100 h-full w-full",children:t.jsx(O,{ImgUrl:a,blurred:f})})}),t.jsx("div",{className:"absolute top-0 left-0 h-full w-full",children:r}),t.jsx("button",{onClick:E,className:"btn btn-ghost absolute bottom-0 left-0 z-10 flex h-20 w-full justify-center border-0 bg-transparent shadow-none transition-all duration-300 ease-in-out"+(d?" opacity-100":" pointer-events-none opacity-0"),children:t.jsx("div",{className:"text-base-content drop-shadow-base-300 animate-bounce bg-transparent drop-shadow-2xl",children:t.jsx(H,{name:"arrowDown",size:40,className:"text-base-content opacity-50"})})})]})]})})}export{M as B};
