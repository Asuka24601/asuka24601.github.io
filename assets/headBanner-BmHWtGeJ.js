import{r,j as s}from"./chunk-JMJ3UQ3L-D8xUhVh8.js";import{w as y}from"./wallpaper_light-RrXt0cA5.js";const l="/assets/wallpaper-BjH1lezc.webp";function L({className:f,ImgUrl:n,blurred:i}){const p=r.useRef(null),e=r.useRef(null),[m,c]=r.useState(!1),[v,d]=r.useState(n||l);return r.useEffect(()=>{let a;const b=t=>{if(!e.current)return;const{innerWidth:g,innerHeight:h}=window,x=(t.clientX/g-.5)*2,w=(t.clientY/h-.5)*2;e.current.style.setProperty("--banner-x",x.toFixed(4)),e.current.style.setProperty("--banner-y",w.toFixed(4))},o=t=>{cancelAnimationFrame(a),a=requestAnimationFrame(()=>b(t))},u=new IntersectionObserver(([t])=>{t.isIntersecting?window.addEventListener("mousemove",o):(window.removeEventListener("mousemove",o),cancelAnimationFrame(a))},{threshold:0});return e.current&&u.observe(e.current),()=>{u.disconnect(),window.removeEventListener("mousemove",o),cancelAnimationFrame(a)}},[]),r.useEffect(()=>{d(n||l),c(!1)},[n]),s.jsxs("div",{ref:e,className:(f||"")+" hover:animate-shine relative aspect-auto h-[min(100%,100dvh)] w-full overflow-hidden",children:[s.jsx("img",{ref:p,src:v,onLoad:()=>c(!0),onError:()=>d(l),decoding:"async",className:`h-full w-full object-cover object-top transition-transform duration-100 ease-out select-none ${n?"":"-z-1 opacity-0 transition-opacity duration-300 dark:z-0 dark:opacity-100"}`,alt:"banner",draggable:"false",style:{filter:m?i?"blur(calc(var(--scroll-percent, 0) * 50px)) brightness(70%)":"brightness(70%)":"blur(20px) brightness(70%)",transition:"filter 0.5s ease-out, transform 0.1s ease-out",transform:"perspective(1000px) scale(1.1) rotateX(calc(var(--banner-y, 0) * -2deg)) rotateY(calc(var(--banner-x, 0) * 2deg)) translate3d(calc(var(--banner-x, 0) * -10px), calc(var(--banner-y, 0) * -10px), 0)",willChange:"transform, filter"},loading:"eager"}),n?null:s.jsx("img",{src:y,alt:"bannerLight",className:"absolute top-0 left-0 z-0 h-full w-full object-cover object-right opacity-100 transition-transform duration-100 ease-out select-none dark:-z-1 dark:opacity-0",draggable:"false",style:{...i?{filter:"blur(calc(var(--scroll-percent, 0) * 50px)) brightness(70%)"}:{filter:"brightness(70%)"},transform:"perspective(1000px) scale(1.1) rotateX(calc(var(--banner-y, 0) * -2deg)) rotateY(calc(var(--banner-x, 0) * 2deg)) translate3d(calc(var(--banner-x, 0) * -10px), calc(var(--banner-y, 0) * -10px), 0)",willChange:"transform"},loading:"eager"}),s.jsx("div",{className:"shine-layer pointer-events-none absolute top-0 left-0 z-10 h-full w-1/2",style:{background:"linear-gradient(to right, transparent, rgba(255,255,255,0.05), transparent)",transform:"skewX(-25deg) translate3d(-200%, 0, 0)"}})]})}export{L as default};
