import{r as i,j as t,R as E}from"./chunk-JMJ3UQ3L-D8xUhVh8.js";import{r as I,t as A}from"./utils-7O0HEEsp.js";import{P as D}from"./progressiveImage-CytJf-gW.js";import{C as O}from"./CRTOverlay-CMIxyTdG.js";import{T as S}from"./textJitter-CutdUL0c.js";import{T as C}from"./tagsComponent-B__IYkf_.js";import{M as R}from"./index-JhMKWXTp.js";let l=null;const p=new Map,L=()=>(!l&&typeof IntersectionObserver<"u"&&(l=new IntersectionObserver(e=>{e.forEach(s=>{if(s.isIntersecting){const r=p.get(s.target);r&&(r(),w(s.target))}})},{threshold:.1})),l),F=(e,s)=>{const r=L();r?(p.set(e,s),r.observe(e)):s()},w=e=>{p.delete(e),l&&(l.unobserve(e),p.size===0&&(l.disconnect(),l=null))},c=({as:e="div",children:s,className:r,...a})=>{const[n,u]=i.useState(0),[d,k]=i.useState(!1),[h,_]=i.useState(!1),j=i.useRef(null),m=typeof s=="string",b=m?s:"";return i.useEffect(()=>{const o=j.current;if(o)return F(o,()=>k(!0)),()=>w(o)},[]),i.useEffect(()=>{if(!d||!m||h)return;let o,f;const T=30,v=g=>{f===void 0&&(f=g),g-f>=T&&(u(N=>N>=b.length?(_(!0),N):N+1),f=g),o=requestAnimationFrame(v)};return o=requestAnimationFrame(v),()=>cancelAnimationFrame(o)},[d,m,b,h]),m?t.jsxs(e,{ref:j,className:`${r||""} min-h-[1em]`,...a,children:[t.jsx("span",{children:b.slice(0,n)}),d&&!h&&t.jsx("span",{className:"text-primary bg-primary/50 ml-0.5 inline-block h-[1em] w-[0.5em] animate-pulse align-middle"}),t.jsx("span",{className:"opacity-0",children:b.slice(n)})]}):t.jsx(e,{ref:j,className:`${r||""} transition-opacity duration-500 ${d?"opacity-100":"opacity-0"}`,...a,children:s})},y=e=>typeof e=="string"?e:typeof e=="number"?String(e):Array.isArray(e)?e.map(y).join(""):E.isValidElement(e)&&e.props.children?y(e.props.children):"",x=e=>y(e).toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\u4e00-\u9fa5-]+/g,""),M={h1:({children:e,...s})=>{const r=s.id||x(e);return t.jsx(c,{as:"h1",id:r,className:"border-neutral/30 text-primary mt-8 mb-6 scroll-mt-24 border-b-2 border-dashed pb-2 text-2xl font-black tracking-widest uppercase before:mr-2 before:content-['#']",...s,children:e})},h2:({children:e,...s})=>{const r=s.id||x(e);return t.jsx(c,{as:"h2",id:r,className:"border-secondary/30 text-secondary mt-6 mb-4 scroll-mt-24 border-b border-dashed pb-1 text-xl font-bold tracking-wide uppercase before:mr-2 before:content-['##']",...s,children:e})},h3:({children:e,...s})=>{const r=s.id||x(e);return t.jsx(c,{as:"h3",id:r,className:"text-accent mt-5 mb-3 scroll-mt-24 text-lg font-bold uppercase before:mr-2 before:content-['###']",...s,children:e})},h4:({children:e,...s})=>{const r=s.id||x(e);return t.jsx(c,{as:"h4",id:r,className:"text-base-content/90 mt-4 mb-2 scroll-mt-24 text-base font-bold uppercase before:mr-2 before:content-['####']",...s,children:e})},h5:({children:e,...s})=>{const r=s.id||x(e);return t.jsx(c,{as:"h5",id:r,className:"text-base-content/80 mt-4 mb-2 scroll-mt-24 text-sm font-bold uppercase before:mr-2 before:content-['#####']",...s,children:e})},h6:({children:e,...s})=>{const r=s.id||x(e);return t.jsx(c,{as:"h6",id:r,className:"text-base-content/70 mt-4 mb-2 scroll-mt-24 text-xs font-bold uppercase before:mr-2 before:content-['######']",...s,children:e})},p:({children:e,...s})=>t.jsx("section",{className:"text-base-content/90 my-3 font-mono text-sm leading-relaxed",...s,children:e}),a:({href:e,children:s,...r})=>{const a=e?.startsWith("/")||e?.startsWith("#"),n={href:e,className:"text-accent hover:text-base-content hover:bg-accent/20 transition-colors underline decoration-dashed underline-offset-4 break-all",...r};return a?t.jsx("a",{...n,children:s}):t.jsxs("a",{...n,target:"_blank",rel:"noopener noreferrer",children:[s," ",t.jsx("span",{className:"text-[10px] opacity-50",children:"↗"})]})},code:({className:e,children:s,...r})=>e?.includes("language-")?t.jsx("code",{className:`${e} font-mono text-sm`,...r,children:s}):t.jsx("code",{className:"text-warning mx-1 border border-white/10 bg-white/10 px-1.5 py-0.5 font-mono text-xs",...r,children:s}),pre:({children:e,...s})=>t.jsxs("div",{className:"bg-base-200/40 border-neutral/20 relative my-4 border border-dashed p-4",children:[t.jsx("div",{className:"text-base-content/30 bg-base-300/60 border-neutral/20 absolute top-0 right-0 border-b border-l border-dashed px-2 py-1 text-[10px] uppercase before:content-['CODE\\_BLOCK']"}),t.jsx("pre",{className:"scrollbar-thin scrollbar-thumb-primary/20 scrollbar-track-transparent text-base-content overflow-x-auto",...s,children:e})]}),span:({children:e,...s})=>s.className?.includes("katex-display")?t.jsxs("div",{className:"bg-base-200/40 border-neutral/20 relative my-4 border border-dashed p-4",children:[t.jsx("div",{className:"text-base-content/30 bg-base-300/60 border-neutral/20 absolute top-0 right-0 border-b border-l border-dashed px-2 py-1 text-[10px] uppercase before:content-['MATH\\_BLOCK']"}),t.jsx("pre",{className:"scrollbar-thin scrollbar-thumb-primary/20 scrollbar-track-transparent text-base-content overflow-x-auto",children:t.jsx("span",{...s,children:e})})]}):t.jsx("span",{...s,children:e}),blockquote:({children:e,...s})=>t.jsxs("blockquote",{className:"border-neutral/50 text-base-content/70 my-4 border-l-4 bg-white/5 p-4 text-sm italic",...s,children:[t.jsx("span",{className:"text-primary/50 mr-2 font-bold before:content-['“']"}),e]}),ul:({children:e,...s})=>t.jsx("ul",{className:"marker:text-primary text-base-content/90 my-4 list-disc space-y-1 pl-5 font-mono text-sm",...s,children:e}),ol:({children:e,...s})=>t.jsx("ol",{className:"marker:text-primary text-base-content/90 my-4 list-decimal space-y-1 pl-5 font-mono text-sm marker:font-bold",...s,children:e}),li:({children:e,...s})=>t.jsx("li",{className:"my-1 pl-1",...s,children:e}),hr:e=>t.jsx("hr",{className:"my-8 border-t-2 border-dashed border-white/20",...e}),img:e=>t.jsxs("figure",{className:"bg-base-200/20 border-neutral/20 mx-auto my-6 max-w-4xl border border-dashed p-2",children:[t.jsx("div",{className:"relative overflow-hidden",children:t.jsx(D,{src:e.src,...e,useLightBox:!0,className:"opacity-90 transition-opacity hover:opacity-100"})}),e.alt&&t.jsx("figcaption",{className:"text-base-content/70 border-neutral/10 mt-2 border-t border-dashed pt-2 text-center font-mono text-[10px] before:content-['\\/\\/_']",children:I(e.alt)})]}),table:e=>t.jsx("div",{className:"my-6 w-full overflow-x-auto border border-dashed border-white/20",children:t.jsx("table",{className:"w-full text-left font-mono text-sm",...e})}),thead:e=>t.jsx("thead",{className:"text-primary border-b border-dashed border-white/20 bg-white/5 uppercase",...e}),tbody:e=>t.jsx("tbody",{className:"divide-y divide-dashed divide-white/10",...e}),tr:e=>t.jsx("tr",{className:"transition-colors hover:bg-white/5",...e}),th:e=>t.jsx("th",{className:"px-4 py-2 font-bold tracking-wider",...e}),td:e=>t.jsx("td",{className:"text-base-content/80 px-4 py-2",...e})};function K({children:e,className:s,id:r}){return t.jsx("main",{id:r,className:`prose dark:prose-invert max-w-none font-serif ${s||""}`,children:t.jsx(R,{components:M,children:e})})}function U({title:e,author:s,date:r,description:a,className:n,style:u}){return t.jsxs("header",{className:`${n||""} flex flex-col justify-center gap-5 text-center text-white`,style:u,children:[t.jsx("h1",{className:"after:animate-blink relative text-4xl text-shadow-2xs after:ml-2.5 after:inline-block after:h-1 after:w-5 after:bg-white sm:text-5xl md:text-6xl lg:text-7xl",children:t.jsx("strong",{children:e})}),t.jsxs("div",{className:"flex justify-center text-[10px] text-shadow-xs md:text-xs lg:text-sm",children:[s&&t.jsx("span",{className:"first-letter:uppercase after:mx-3 after:content-['|']",children:t.jsx("strong",{children:s})}),t.jsx("time",{dateTime:r,children:t.jsx("strong",{children:new Date(r).toLocaleDateString("zh-CN")})})]}),a&&t.jsx("p",{className:"text-sm text-shadow-2xs sm:text-base md:text-lg lg:text-xl",children:t.jsx("strong",{children:a})})]})}function W({tags:e,time:s}){return t.jsxs("footer",{className:"flex flex-col gap-3 py-4 text-sm text-gray-500",children:[e&&e.length>0&&t.jsxs("div",{className:"flex flex-row flex-wrap items-center gap-2",children:[t.jsx("span",{className:"text-xs after:content-['TAGS:_']"}),e.map((r,a)=>t.jsx(C,{tag:{name:r}},a))]}),t.jsxs("p",{children:[t.jsx("span",{className:"text-xs after:content-['_•_LAST\\_MODIFIED:_']",children:"BUILD"}),t.jsx("span",{className:"text-accent",children:s?A(s).time:new Date().toLocaleDateString("zh-CN")})]})]})}function J({slug:e}){return t.jsx("div",{className:"mx-auto max-w-3xl px-4 py-8 font-mono text-sm",children:t.jsxs("div",{className:"border-terminal",children:[t.jsx(O,{}),t.jsx(S,{children:t.jsxs("div",{className:"border-neutral/30 bg-base-200 shadow-primary flex flex-col gap-6 border-2 border-double p-6",children:[t.jsxs("div",{className:"border-neutral/30 flex items-end justify-between border-b-2 border-dashed pb-2",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-base-content mb-1 text-[10px] font-bold tracking-widest uppercase opacity-50 before:content-['\\/\\/_SYSTEM_ALERT']"}),t.jsx("div",{className:"text-warning text-xl font-black tracking-widest uppercase",children:"END_OF_UNIVERSE"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-base-content text-[10px] font-bold tracking-widest uppercase opacity-50 before:content-['ERROR_CODE']"}),t.jsx("div",{className:"text-warning text-xl font-bold",children:"404"})]})]}),t.jsxs("div",{className:"py-2",children:[t.jsxs("div",{className:"relative mb-6 text-center",children:[t.jsx("div",{className:"text-warning text-9xl font-black opacity-10 select-none",children:"∞"}),t.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-2",children:[t.jsx("div",{className:"bg-base-200/80 text-base-content px-4 text-lg font-bold tracking-widest uppercase backdrop-blur-sm",children:"来到了宇宙的尽头"}),t.jsxs("div",{className:"text-base-content/50 text-xs",children:["TARGET_LOST: ",e]})]})]}),t.jsxs("div",{className:"border-warning/50 text-base-content/80 border-l-2 bg-white/5 p-4 text-xs",children:[t.jsx("p",{className:"text-warning mb-2 font-bold uppercase",children:">> DIAGNOSTIC_REPORT:"}),t.jsxs("ul",{className:"list-disc space-y-1 pl-5 font-mono",children:[t.jsx("li",{children:"Markdown_File_Not_Found"}),t.jsx("li",{children:"Path_Coordinates_Invalid"}),t.jsx("li",{children:"Permission_Denied"})]})]})]}),t.jsx("div",{className:"border-neutral/30 text-base-content/40 flex items-center justify-between border-t border-dashed pt-4 text-[10px] uppercase",children:t.jsx("span",{className:"animate-pulse",children:"> _"})})]})})]})})}export{K as A,c as T,U as a,W as b,J as c};
