import{r as l,a as b,j as e,w as y,b as C,c as _,O as I,i as T}from"./chunk-JMJ3UQ3L-D8xUhVh8.js";import{a as A,A as B,b as M,c as R}from"./aritcleContent-C2K4h2ht.js";import{F as g,T as w,S as O}from"./floatMenu-CM8_PuTz.js";import{m as v}from"./utils-7O0HEEsp.js";import{B as P}from"./bannerContent-BTVROdn7.js";import{T as k}from"./textJitter-CutdUL0c.js";import{C as N}from"./CRTOverlay-CMIxyTdG.js";import{P as D}from"./errorPage-21m-VrE0.js";import{C as S}from"./comments-BVw-CrqU.js";import"./progressiveImage-YowF13dN.js";import"./store-YdK40I-_.js";import"./tagsComponent-CHronNRZ.js";import"./index-JhMKWXTp.js";import"./SvgIcon-Bgc42I2s.js";import"./preload-helper-BXl3LOEh.js";import"./isSymbol-dWjoa6cD.js";function E({queryID:a,className:t,style:c}){const[n,h]=l.useState([]),[i,r]=l.useState(""),m=b();return l.useEffect(()=>{const o=setTimeout(()=>{const f=document.getElementById(a);if(!f)return;const d=f.querySelectorAll("h1, h2, h3, h4, h5, h6"),p=[];d.forEach(s=>{s.id&&p.push({id:s.id,text:s.textContent||"",level:parseInt(s.tagName.substring(1))})}),h(p);const x=new IntersectionObserver(s=>{s.forEach(j=>{j.isIntersecting&&r(j.target.id)})},{rootMargin:"0px 0px -80% 0px"});return d.forEach(s=>x.observe(s)),()=>x.disconnect()},100);return()=>clearTimeout(o)},[m.pathname,a]),n.length===0?e.jsx(g,{className:t,style:c,children:e.jsxs("li",{children:[e.jsx(w,{level:1}),e.jsx("span",{className:"text-base-content/25 after:content-['No_headings_found.']"})]})}):e.jsx(g,{className:t,style:c,children:n.map(o=>e.jsx("li",{children:e.jsxs("a",{href:`#${o.id}`,className:`flex items-center truncate py-1 pr-1 transition-colors duration-200 ${i===o.id?"text-secondary":"hover:text-accent text-base-content/50"}`,onClick:f=>{f.preventDefault();const d=document.getElementById(o.id);if(d){const s=d.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:s,behavior:"smooth"}),r(o.id)}},children:[e.jsx(w,{level:o.level}),o.text]})},o.id))})}function u(a){return typeof a=="object"&&a!==null&&"frontMatter"in a&&!!a.frontMatter}const F=()=>{window.scrollTo({top:0,behavior:"instant"}),document.title=location.pathname.startsWith("/__dev__")?"posts/"+location.pathname.slice(1).split("/").slice(1).join("/"):location.pathname.slice(1)},te=y(function(){const t=b(),c=_(),n=l.useRef(null),h=l.useRef(null),i=c.find(m=>u(m.handle)||u(m.loaderData)),r=i?u(i.handle)?i.handle.frontMatter:u(i.loaderData)?i.loaderData.frontMatter:void 0:void 0;return l.useLayoutEffect(()=>(F(),()=>{document.title="Asuka24601's Blog"}),[t.pathname]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:n,className:"contents",children:[e.jsx(P,{ImgUrl:r?.cover,blurred:!0,wrapperRef:n,children:e.jsx(A,{title:r?.title,author:r?.author,date:r?.date,description:r?.description,className:"relative top-1/2 -translate-y-1/2"})}),e.jsx("div",{className:"border-neutral border-t-4 border-double"}),e.jsx("div",{ref:h,className:"fixed left-0 z-50 h-1 w-full bg-transparent",style:{top:"var(--navbar-height)"},children:e.jsx("div",{className:"bg-success h-full w-full origin-left transition-transform duration-150 ease-out",style:{transform:"scaleX(var(--total-percent))"}})}),e.jsx("div",{className:"relative block h-full min-h-[inherit] w-full overflow-visible",children:e.jsxs("div",{className:"relative z-2 mx-auto max-w-5xl overflow-visible",children:[e.jsxs("article",{className:"border-terminal bg-base-200 animate__animated animate__fadeIn animate__slow relative will-change-transform",style:{transform:"translateY(calc(var(--scroll-percent) * -25vw))"},children:[e.jsx(N,{}),e.jsxs(k,{children:[e.jsx(B,{id:"article-"+v(t.pathname),children:e.jsx(I,{})}),e.jsx("div",{className:"border-neutral/20 w-full border-b-2 border-dashed"}),e.jsx(M,{tags:r?.tags,time:r?.date}),e.jsx("div",{className:"border-neutral/20 w-full border-b-2 border-dashed"}),e.jsx(S,{mapping:"title"})]})]}),e.jsxs("div",{className:"border-terminal bg-base-200! absolute! top-0 right-0 hidden h-full translate-x-[calc(100%-4px)] overflow-visible! border-t-0! border-b-0! 2xl:block",children:[e.jsx(N,{}),e.jsx("div",{className:"sticky left-0 z-40 h-fit w-fit p-4",style:{top:"var(--navbar-height)"},children:e.jsx(E,{queryID:"article-"+v(t.pathname)})})]})]})})]}),e.jsx(O,{className:"2xl:hidden!",children:e.jsx(E,{queryID:"article-"+v(t.pathname),className:"w-full"})})]})}),re=C(function({error:t}){const n=b().pathname.slice(7);return T(t)?e.jsx(R,{slug:n}):t instanceof Error?e.jsx(D,{error:t}):e.jsx("h1",{children:"Unknown Error"})});export{re as ErrorBoundary,te as default};
