import{j as e,r as d,L as f,w as m,a as p}from"./chunk-JMJ3UQ3L-D8xUhVh8.js";import{s as u}from"./search-EH1VKQO4.js";import{T as j}from"./textJitter-CutdUL0c.js";import{C as b}from"./CRTOverlay-CMIxyTdG.js";import"./preload-helper-BXl3LOEh.js";import"./__manifest-LTtVKofP.js";function v(n){const s={children:new Map,files:[]};for(const r of n){let o=s;for(const i of r.prefix)o.children.has(i)||o.children.set(i,{children:new Map,files:[]}),o=o.children.get(i);o.files.push(r)}function t(r){const o=[],i=Array.from(r.children.entries()).sort((c,l)=>c[0].localeCompare(l[0]));for(const[c,l]of i)o.push({type:"dir",name:c,children:t(l)});const a=r.files.sort((c,l)=>(c.frontMatter.title||"").localeCompare(l.frontMatter.title||""));for(const c of a)o.push({type:"file",post:c});return o}return t(s)}function h(n){let s=0;for(const t of n)t.type==="dir"&&(s+=1+h(t.children));return s}const y=({item:n,prefix:s,isLast:t})=>{const[r,o]=d.useState(!0),i=t?"└── ":"├── ",a=s+(t?"    ":"│   ");return n.type==="file"?e.jsx("div",{className:"flex flex-col",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-base-content/50 whitespace-pre",children:[s,i]}),e.jsx(f,{to:"/posts/"+n.post.path,className:"hover:text-primary transition-colors hover:underline",children:n.post.frontMatter.title})]})}):e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-base-content/50 whitespace-pre",children:[s,i]}),e.jsxs("button",{onClick:()=>o(!r),className:"text-secondary hover:text-secondary/80 flex cursor-pointer items-center font-bold transition-colors",type:"button",children:[n.name,e.jsx("span",{className:"ml-2 text-xs opacity-50",children:r?"[-]":"[+]"})]})]}),r&&e.jsx(x,{items:n.children,prefix:a})]})},x=({items:n,prefix:s=""})=>e.jsx(e.Fragment,{children:n.map((t,r)=>e.jsx(y,{item:t,prefix:s,isLast:r===n.length-1},t.type==="dir"?t.name:t.post.slug))});function g({category:n,posts:s}){const t=v(s),r=h(t),o=s.length,i=n;return e.jsx(e.Fragment,{children:e.jsx("div",{className:"mx-auto min-h-screen w-full",children:e.jsx("div",{className:"border-terminal mx-auto grid min-h-[inherit] max-w-6xl overflow-visible! border-none! p-4 lg:p-6",children:e.jsxs("div",{className:"min-h-full w-full pt-(--navbar-height) transition-transform duration-500",children:[e.jsx(b,{}),e.jsxs(j,{className:"border-neutral! bg-base-200 relative min-h-full overflow-hidden border-4 border-double",children:[e.jsxs("h1",{className:"uppercase",children:["~/posts/",i]}),s.length>0?e.jsxs("div",{className:"text-lg",children:[e.jsx("div",{className:"text-secondary mb-2 font-bold",children:"."}),e.jsx(x,{items:t}),e.jsxs("div",{className:"text-base-content/50 mt-2 text-base",children:[e.jsx("br",{}),r," director",r!==1?"ies":"y",", ",o," file",o!==1?"s":""]})]}):e.jsx("div",{className:"text-base-content/30 col-span-full flex flex-col items-center justify-center border border-dashed border-white/5 py-16",children:e.jsx("div",{className:"mb-4 text-6xl font-black opacity-10",children:"404"})})]})]})})})})}const R=m(function(){const{pathname:s}=p();let t=s.substring(7);t.endsWith("/")&&(t=t.slice(0,-1)),t=decodeURI(t);const r=d.useMemo(()=>u.search("",[],t.split("/")),[t]);return e.jsx(e.Fragment,{children:e.jsx(g,{posts:r,category:t})})});export{R as default};
